{% extends "base.html" %}
{% load compress static thumbnail i18n %}

{% block title %}{% trans "Search results" %}{% endblock %}

{% block main_class %}search{% endblock %}

{% block content %}
<script type="text/javascript">
party_json = {{party_json|safe}};
FEED_ACTIONS = {{feed_actions_json|safe}};
</script>

{% include "_feed_content.html" %}

{% compress js inline %}
<script type="text/coffeescript">
$ ->
    root_el = $(document)
    relel = (selector) -> root_el.find(selector)
    search_list = new MemberActivitySearchList()
    hashstate.sub('q').on (value) ->
        query = $.trim value
        search_list.query query

    setup = new ActivityFeedControl hashstate.sub('search')
    setup.feed_view new ActivityFeedView
        el: relel ".activity-feed"
        collection: search_list
    setup.controls relel ".feed-filters"

    $(".activity-tag-cloud-container").hide()
    $(".filter-feed .feed-filtering").hide()
</script>
{% endcompress %}

{% endblock %}
